<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · EvoDynamics.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">EvoDynamics.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Parameters-1"><span>Parameters</span></a></li><li><a class="tocitem" href="#Simulation-outline-1"><span>Simulation outline</span></a></li><li><a class="tocitem" href="#Data-collection-1"><span>Data collection</span></a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../example1/">Example 1</a></li><li><a class="tocitem" href="../example2/">Example 2</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kavir1698/EvoDynamics.jl/blob/master/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API-1"><a class="docs-heading-anchor" href="#API-1">API</a><a class="docs-heading-anchor-permalink" href="#API-1" title="Permalink"></a></h1><h2 id="Parameters-1"><a class="docs-heading-anchor" href="#Parameters-1">Parameters</a><a class="docs-heading-anchor-permalink" href="#Parameters-1" title="Permalink"></a></h2><p>The parameters below are required for any simulation. They should be in a dictionary object. The dictionary keys should be the parameters names as <code>Symbol</code> (with a colon &quot;:&quot; before the name). See the <a href="../tutorial/#Tutorial-1">Tutorial</a> page for an example of the parameters dictionary.</p><ul><li><strong>m:</strong> A tuple or an array specifying the ploidy of each species. Currently only support m=1 (haploid) and m=2 (diploid).</li><li><strong>P:</strong> A tuple or an array specifying the number of traits <em>p</em> for each species.</li><li><strong>L:</strong> A tuple or an array specifying the number of loci <em>l</em> for each species.</li><li><strong>R:</strong> A tuple or an array specifying growth for each species. Growth rates are for a logistic growth model, where <span>$N_{t+1} = N_t + r\times N\times (1 - ((N/K))$</span>, where N is population size, t is time, r is growth rate and K is carrying capacity. If <em>r=0</em>, population size remains constant.</li><li><strong>C:</strong> A matrix containing competition coefficients between each pair of species. A competition coefficient denotes the strength of competition exerted by an individual of species j on an individual of species i. It uses the Lotka-Voltera equation <span>$Ni_{t+1} = Ni_t + r\times N\times (1 - ((Ni + cNj)/K)$</span> where c is competition coefficient. When competition coefficient is positive, population j competes with population i. If negative, population j helps population i to grow. And if 0, population j does not affect population i. If <span>$c_{ij} &gt; 0$</span> and <span>$c_{ji} &gt; 0$</span>, both populations are in competition, if <span>$c_{ij} &gt; 0$</span> and <span>$c_{ji} &lt; 0$</span>, species i is a parasite of species j. If <span>$c_{ij} &lt; 0$</span> and <span>$c_{ji} &lt; 0$</span>, the two species have a mutualistic relationship. If <span>$c_{ij} &lt; 0$</span> and <span>$c_{ji} = 0$</span>, they have a commensal relationship.</li><li><strong>B:</strong> A tuple or an array of pleiotropy matrices, one for each species. Each matrix consists of zeros and ones only. It has P rows and L columns. Make sure that a row is not all zero (a trait is not controlled any locus).</li><li><strong>γ:</strong> A tuple or an array  of selection coefficients for each species.</li><li><strong>T:</strong> A tuple or an array of arrays, where each inner array specifies optimal phenotypes θ for each species. Each inner array should be of length <em>p</em> (number of traits) of its corresponding species.</li><li><strong>Ω:</strong> A tuple or an array of matrices, each of which ω represents a covariance matrix of the selection surface. Each matrix is of size <span>$p\times p$</span>.</li><li><strong>M:</strong> A tuple or an array of mutation rates <em>μ</em> for each species.</li><li><strong>MB:</strong> A tuple or an array of mutation rates <span>$μ_B$</span>for each species</li><li><strong>N:</strong> A dictionary where each key is a node number and its value is a tuple for population size of each species at that node. This dictionary does not have to have a key for all the nodes, but it should have a value for all the species.</li><li><strong>K:</strong> A dictionary where each key is a node number and its value is tuple of carrying capacities K of the node for each species. The dictionary should have a key for all the nodes and carrying capacity for each species per node.</li><li><strong>migration_rates:</strong> An array of matrices, each matrix shows of migration rates between each pair of nodes for a species. The rows and columns of the matrix are node numbers in order. If instead of a matrix, there is <code>nothing</code>, no migration occurs for that species.</li><li><strong>Y:</strong> A tuple or an array of arrays, each specifying the initial genotypic values <em>y</em> of each species. Each <em>y</em> is of length L.</li><li><strong>E:</strong> A tuple  or an array of the variance of a normal distribution ε representing environmental noise for each species.</li><li><strong>generations:</strong> number of generations to run the simulation.</li><li><strong>space:</strong> Either a tuple of size 2 or 3 for a grid size or a <code>SimpleGraph</code> object for an arbitrary graph. If it is a tuple, a grid is built internally</li><li><strong>moore:</strong> Whether nodes in the grid have 8 neighbors (Moore neighborhood). Default is false, i.e. cells only have 4 neighbors.</li></ul><h2 id="Simulation-outline-1"><a class="docs-heading-anchor" href="#Simulation-outline-1">Simulation outline</a><a class="docs-heading-anchor-permalink" href="#Simulation-outline-1" title="Permalink"></a></h2><p>Within each time-step, the following occurs:</p><ol><li>Mutation</li><li>Fitness update</li><li>Migration</li><li>Reproduction (only for diploids)</li><li>selection</li></ol><h3 id="Mutation-1"><a class="docs-heading-anchor" href="#Mutation-1">Mutation</a><a class="docs-heading-anchor-permalink" href="#Mutation-1" title="Permalink"></a></h3><p>The genotype vector <em>y</em> and pleiotropy matrix <em>B</em> of each individual mutates.</p><p><em>y</em> mutates by adding random numbers from a normal distribution with mean 0 and standard deviation from the δ to the current values of <em>y</em>. δ is specified by the M parameter.</p><p><em>B</em> mutates by randomly switching 0s and 1s with probability given in parameter MB.</p><h3 id="Fitness-update-1"><a class="docs-heading-anchor" href="#Fitness-update-1">Fitness update</a><a class="docs-heading-anchor-permalink" href="#Fitness-update-1" title="Permalink"></a></h3><p>Fitness of each individual updates after mutation. Fitness is <span>$W = exp(γ \times transpose(z - θ)\times inv(ω)\times (z - θ))$</span>, where is the phenotype vector (<span>$z = By + μ$</span>), γ is selection coefficient, θ is optimum phenotypes vector, and ω is covariance matrix of selection surface. </p><h3 id="Migration-1"><a class="docs-heading-anchor" href="#Migration-1">Migration</a><a class="docs-heading-anchor-permalink" href="#Migration-1" title="Permalink"></a></h3><p>Each agent moves with probabilities given in <em>migration_rates</em> to another node.</p><h3 id="Reproduction-1"><a class="docs-heading-anchor" href="#Reproduction-1">Reproduction</a><a class="docs-heading-anchor-permalink" href="#Reproduction-1" title="Permalink"></a></h3><p>When a species is diploid, they sexually reproduce. To that end, individuals of the same species in the same location are randomly paired. Each pair produces one offspring. Then the parents die.</p><p>To produce an offspring, each parent contributes to half of the offspring&#39;s genotype <em>y</em> and pleiotropy matrix <em>B</em>. The genes coming from each parent are randomly assigned.</p><h3 id="Selection-1"><a class="docs-heading-anchor" href="#Selection-1">Selection</a><a class="docs-heading-anchor-permalink" href="#Selection-1" title="Permalink"></a></h3><p>A number of individuals <em>n</em> are selected for the next generation via sampling with replacement weighted by individuals&#39; fitness values. <em>n</em> is calculated using the Lotka-Voltera model for population competition <span>$Ni_{t+1} = Ni_t + r\times N\times (1 - ((Ni + cNj)/K)$</span> where N is population size, t is time, r is growth rate and K is carrying capacity, and c is competition coefficient. Briefly, each population growth with a logistic model when it is not affected by other species. Otherwise, its growth increases or decreases depending on its interactions with other species.</p><h2 id="Data-collection-1"><a class="docs-heading-anchor" href="#Data-collection-1">Data collection</a><a class="docs-heading-anchor-permalink" href="#Data-collection-1" title="Permalink"></a></h2><p>TODO</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial/">« Tutorial</a><a class="docs-footer-nextpage" href="../example1/">Example 1 »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 15 January 2020 17:23">Wednesday 15 January 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
